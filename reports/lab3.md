# 实验报告
## 功能实现部分

## 问答作业
### (1) fork + exec 的一个比较大的问题是 fork 之后的内存页/文件等资源完全没有使用就废弃了，针对这一点，有什么改进策略？
改进策略是使用 Copy-On-Write (COW) 技术，它延迟了资源的复制过程，直到有写操作发生时才复制。这样可以减少不必要的资源浪费，因为只有在实际需要修改时才会复制资源，而在大多数情况下，子进程只是读取父进程的内存页或文件，因此可以共享这些资源，从而提高效率和节省内存。
### 请阅读下列代码，并分析程序的输出，假定不发生运行错误，不考虑行缓冲：
```
int main(){
int val = 2;
printf("%d", 0);
int pid = fork();
if (pid == 0) {
val++;
printf("%d", val);
} else {
val--;
printf("%d", val);
wait(NULL);
}
val++;
printf("%d", val);
return 0;
}
```
如果 fork() 之后主程序先运行，则结果如何？如果 fork() 之后 child 先运行，则结果如何？
